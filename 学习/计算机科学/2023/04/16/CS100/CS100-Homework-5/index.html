<!DOCTYPE html>
<html lang="zh-CN,en,default">
<head>
  <meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=2">
<meta name="theme-color" content="#222">
<meta name="generator" content="Hexo 7.1.1">
  <link rel="apple-touch-icon" sizes="180x180" href="/images/soundwave.svg">
  <link rel="icon" type="image/png" sizes="32x32" href="/images/soundwave.svg">
  <link rel="icon" type="image/png" sizes="16x16" href="/images/soundwave.svg">
  <link rel="mask-icon" href="/images/soundwave.svg" color="#222">

<link rel="stylesheet" href="/css/main.css">


<link rel="stylesheet" href="/lib/font-awesome/css/all.min.css">
  <link rel="stylesheet" href="//cdn.jsdelivr.net/gh/fancyapps/fancybox@3/dist/jquery.fancybox.min.css">

<script id="hexo-configurations">
    var NexT = window.NexT || {};
    var CONFIG = {"hostname":"zivmax.top","root":"/","scheme":"Gemini","version":"7.8.0","exturl":false,"sidebar":{"position":"left","display":"hide","padding":18,"offset":12,"onmobile":false},"copycode":{"enable":true,"show_result":true,"style":"mac"},"back2top":{"enable":true,"sidebar":true,"scrollpercent":false},"bookmark":{"enable":false,"color":"#222","save":"auto"},"fancybox":true,"mediumzoom":false,"lazyload":false,"pangu":false,"comments":{"style":"tabs","active":null,"storage":true,"lazyload":false,"nav":null},"algolia":{"hits":{"per_page":10},"labels":{"input_placeholder":"Search for Posts","hits_empty":"We didn't find any results for the search: ${query}","hits_stats":"${hits} results found in ${time} ms"}},"localsearch":{"enable":true,"trigger":"auto","top_n_per_article":1,"unescape":false,"preload":true},"motion":{"enable":true,"async":true,"transition":{"post_block":"fadeIn","post_header":"slideDownIn","post_body":"slideDownIn","coll_header":"slideLeftIn","sidebar":"slideUpIn"}},"path":"search.xml"};
  </script>

  <meta name="description" content="Problems:  Checklist for C++ Beginners Playing with Strings and Vectors Dynamic Array">
<meta property="og:type" content="article">
<meta property="og:title" content="CS100 Homework [5]">
<meta property="og:url" content="https://zivmax.top/%E5%AD%A6%E4%B9%A0/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%A7%91%E5%AD%A6/2023/04/16/CS100/CS100-Homework-5/index.html">
<meta property="og:site_name" content="青山后小塘">
<meta property="og:description" content="Problems:  Checklist for C++ Beginners Playing with Strings and Vectors Dynamic Array">
<meta property="og:locale" content="zh_CN">
<meta property="article:published_time" content="2023-04-16T01:16:11.000Z">
<meta property="article:modified_time" content="2023-05-31T03:43:14.024Z">
<meta property="article:author" content="Zivmax">
<meta property="article:tag" content="作业">
<meta property="article:tag" content="上科大">
<meta property="article:tag" content="C 语言">
<meta property="article:tag" content="CS100">
<meta name="twitter:card" content="summary">

<link rel="canonical" href="https://zivmax.top/%E5%AD%A6%E4%B9%A0/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%A7%91%E5%AD%A6/2023/04/16/CS100/CS100-Homework-5/">


<script id="page-configurations">
  // https://hexo.io/docs/variables.html
  CONFIG.page = {
    sidebar: "",
    isHome : false,
    isPost : true,
    lang   : 'zh-CN'
  };
</script>

  <title>CS100 Homework [5] | 青山后小塘</title>
  






  <noscript>
  <style>
  .use-motion .brand,
  .use-motion .menu-item,
  .sidebar-inner,
  .use-motion .post-block,
  .use-motion .pagination,
  .use-motion .comments,
  .use-motion .post-header,
  .use-motion .post-body,
  .use-motion .collection-header { opacity: initial; }

  .use-motion .site-title,
  .use-motion .site-subtitle {
    opacity: initial;
    top: initial;
  }

  .use-motion .logo-line-before i { left: initial; }
  .use-motion .logo-line-after i { right: initial; }
  </style>
</noscript>

  <!-- require APlayer -->
  <link rel="stylesheet" href="/dist/APlayer.min.css"media="all">
  <div id="aplayer"></div>
  <script src="/dist/APlayer.min.js"></script>
  <!-- require MetingJS -->
  <script src="https://cdn.jsdelivr.net/npm/meting@2/dist/Meting.min.js"></script>
<link rel="alternate" href="/atom.xml" title="青山后小塘" type="application/atom+xml">
</head>

<body itemscope itemtype="http://schema.org/WebPage">

  <div class="container use-motion">
    <div class="headband"></div>

    <header class="header" itemscope itemtype="http://schema.org/WPHeader">
      <div class="header-inner"><div class="site-brand-container">
  <div class="site-nav-toggle">
    <div class="toggle" aria-label="切换导航栏">
      <span class="toggle-line toggle-line-first"></span>
      <span class="toggle-line toggle-line-middle"></span>
      <span class="toggle-line toggle-line-last"></span>
    </div>
  </div>

  <div class="site-meta custom-logo">

    <a href="/" class="brand" rel="start">
      <span class="logo-line-before"><i></i></span>
      <h1 class="site-title">青山后小塘</h1>
      <span class="logo-line-after"><i></i></span>
    </a>
      <p class="site-subtitle" itemprop="description">人生如逆旅，我亦是行人</p>
      <a>
        <img class="custom-logo-image" src="/uploads/cib-boeing.svg" alt="青山后小塘">
      </a>
  </div>

  <div class="site-nav-right">
    <div class="toggle popup-trigger">
        <i class="fa fa-search fa-fw fa-lg"></i>
    </div>
  </div>
</div>




<nav class="site-nav">
  <ul id="menu" class="main-menu menu">
        <li class="menu-item menu-item-home">

    <a href="/" rel="section"><i class="fa fa-home fa-fw"></i>首页</a>

  </li>
        <li class="menu-item menu-item-about">

    <a href="/about/" rel="section"><i class="fa fa-user fa-fw"></i>关于</a>

  </li>
        <li class="menu-item menu-item-tags">

    <a href="/tags/" rel="section"><i class="fa fa-tags fa-fw"></i>标签<span class="badge">43</span></a>

  </li>
        <li class="menu-item menu-item-categories">

    <a href="/categories/" rel="section"><i class="fa fa-th fa-fw"></i>分类<span class="badge">11</span></a>

  </li>
        <li class="menu-item menu-item-archives">

    <a href="/archives/" rel="section"><i class="fa fa-archive fa-fw"></i>归档<span class="badge">83</span></a>

  </li>
        <li class="menu-item menu-item-playlist">

    <a href="/playlist/" rel="section"><i class="fa fa-music fa-fw"></i>歌单</a>

  </li>
      <li class="menu-item menu-item-search">
        <a role="button" class="popup-trigger"><i class="fa fa-search fa-fw"></i>搜索
        </a>
      </li>
  </ul>
</nav>



  <div class="search-pop-overlay">
    <div class="popup search-popup">
        <div class="search-header">
  <span class="search-icon">
    <i class="fa fa-search"></i>
  </span>
  <div class="search-input-container">
    <input autocomplete="off" autocapitalize="off"
           placeholder="搜索..." spellcheck="false"
           type="search" class="search-input">
  </div>
  <span class="popup-btn-close">
    <i class="fa fa-times-circle"></i>
  </span>
</div>
<div id="search-result">
  <div id="no-result">
    <i class="fa fa-spinner fa-pulse fa-5x fa-fw"></i>
  </div>
</div>

    </div>
  </div>

</div>
    </header>

    


    <main class="main">
      <div class="main-inner">
        <div class="content-wrap">
          

          <div class="content post posts-expand">
            

    
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block" lang="zh-CN">
    <link itemprop="mainEntityOfPage" href="https://zivmax.top/%E5%AD%A6%E4%B9%A0/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%A7%91%E5%AD%A6/2023/04/16/CS100/CS100-Homework-5/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.png">
      <meta itemprop="name" content="Zivmax">
      <meta itemprop="description" content="记录我在 STU 的所见所闻,以及成长">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="青山后小塘">
    </span>
      <header class="post-header">
        <h1 class="post-title" itemprop="name headline">
          CS100 Homework [5]
        </h1>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-calendar"></i>
              </span>
              <span class="post-meta-item-text">发表于</span>

              <time title="创建时间: 2023-04-16 09:16:11" itemprop="dateCreated datePublished" datetime="2023-04-16T09:16:11+08:00">2023-04-16</time>
            </span>
              <span class="post-meta-item">
                <span class="post-meta-item-icon">
                  <i class="far fa-calendar-check"></i>
                </span>
                <span class="post-meta-item-text">更新于</span>
                <time title="修改时间: 2023-05-31 11:43:14" itemprop="dateModified" datetime="2023-05-31T11:43:14+08:00">2023-05-31</time>
              </span>
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-folder"></i>
              </span>
              <span class="post-meta-item-text">分类于</span>
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/%E5%AD%A6%E4%B9%A0/" itemprop="url" rel="index"><span itemprop="name">学习</span></a>
                </span>
                  , 
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/%E5%AD%A6%E4%B9%A0/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%A7%91%E5%AD%A6/" itemprop="url" rel="index"><span itemprop="name">计算机科学</span></a>
                </span>
            </span>

          <br>
            <span class="post-meta-item" title="本文字数">
              <span class="post-meta-item-icon">
                <i class="far fa-file-word"></i>
              </span>
                <span class="post-meta-item-text">本文字数: </span>
              <span>9.6k</span>
            </span>
            <span class="post-meta-item" title="阅读时长">
              <span class="post-meta-item-icon">
                <i class="far fa-clock"></i>
              </span>
                <span class="post-meta-item-text">阅读时长 &asymp;</span>
              <span>1:01</span>
            </span>

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
        <link rel="stylesheet" type="text/css" href="https://cdn.jsdelivr.net/hint.css/2.4.1/hint.min.css"><p><strong>Problems</strong>:</p>
<ul>
<li><a target="_blank" rel="noopener" href="https://cs100.geekpie.club/p/P501?tid=6425c7c3e03cc2ed71cc32e0">Checklist for C++ Beginners</a></li>
<li><a target="_blank" rel="noopener" href="https://cs100.geekpie.club/p/34?tid=6425c7c3e03cc2ed71cc32e0">Playing with Strings and Vectors</a></li>
<li><a target="_blank" rel="noopener" href="https://cs100.geekpie.club/p/33?tid=6425c7c3e03cc2ed71cc32e0">Dynamic Array</a></li>
</ul>
<span id="more"></span>
<hr>
<h1 id="CS100-Homework-5-Spring-2023">CS100 Homework 5 (Spring 2023)</h1>
<p>Download the materials for problem 3 from Piazza.</p>
<p>(April 6) 20:20 Problem 3 and bonus have been updated. All submissions have been rejudged. In case we made any mistakes during this procedure, please re-submit your code. We are sorry for causing any inconvenience.</p>
<p>Please note that we do not allow the use of standard library containers in any form. Direct use of standard library containers will result in compilation error. If you managed to escape our compile-time check, you will still get zero points. We will have our ways to check this.</p>
<p>(April 7) 9:57 Problem 2 has been released. Deadline has been postponed to April 13, 23:59.</p>
<p>(April 8) 14:25 Problem 3 and bonus: Accepted submissions have been rejudged. See Piazza for details.</p>
<p>(April 10) 0:59 Problem 2 bonus added. See Piazza for details.</p>
<p>(April 13) 23:27 In Problem 2, split(str, sep) should return a vector containing one empty string, instead of an empty vector, if str == &quot;&quot;. Deadline is postponed to April 14, 23:59. Sorry for not making this clear.</p>
<hr>
<h2 id="Checklist-for-C-Beginners">Checklist for C++ Beginners</h2>
<p>This problem is to answer questions.</p>
<p><a target="_blank" rel="noopener" href="https://github.com/zivmax/CS100-2023-Spring-homework-resources/tree/main/hw5_attachments/prob1">👉 Go to GitHub for the HTML page file</a></p>
<hr>
<h2 id="Playing-with-Strings-and-Vectors">Playing with Strings and Vectors</h2>
<h3 id="Implement-the-following-four-functions">Implement the following four functions.</h3>
<figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="function">std::string <span class="title">strip</span><span class="params">(<span class="type">const</span> std::string &amp;str)</span></span>;</span><br><span class="line"><span class="function">std::string <span class="title">join</span><span class="params">(<span class="type">const</span> std::string &amp;sep, <span class="type">const</span> std::vector&lt;std::string&gt; &amp;strings)</span></span>;</span><br><span class="line"><span class="function">std::vector&lt;std::string&gt; <span class="title">split</span><span class="params">(<span class="type">const</span> std::string &amp;str, <span class="type">const</span> std::string &amp;sep)</span></span>;</span><br><span class="line"><span class="function">std::string <span class="title">swapcase</span><span class="params">(std::string str)</span></span>;</span><br></pre></td></tr></table></figure>
<ul>
<li>
<p><code>strip(str)</code></p>
<p>Returns the string obtained from str by removing all the leading and trailing whitespaces. A character c is a whitespace if std::isspace(c) is true. For example,</p>
<figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">assert</span>(<span class="built_in">strip</span>(<span class="string">&quot; wefafwefw \n&quot;</span>) == <span class="string">&quot;wefafwefw&quot;</span>);</span><br></pre></td></tr></table></figure>
<p>The assertion above should succeed.</p>
</li>
<li>
<p><code>join(sep, strings)</code></p>
<p>Concatenate the strings strings, during which the string sep is inserted in between each given string. Then return the result. For example:</p>
<figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">std::vector&lt;std::string&gt; strings = &#123;<span class="string">&quot;hello&quot;</span>, <span class="string">&quot;world&quot;</span>, <span class="string">&quot;cxx23&quot;</span>&#125;;</span><br><span class="line"><span class="built_in">assert</span>(<span class="built_in">join</span>(<span class="string">&quot;, &quot;</span>, strings) == <span class="string">&quot;hello, world, cxx23&quot;</span>);</span><br></pre></td></tr></table></figure>
<p>The assertion above should succeed.</p>
<p>If the vector <code>strings</code> is empty, return an empty string.</p>
</li>
<li>
<p><code>split(str, sep)</code></p>
<p>Using sep as the delimiter, split the string str into a vector of strings and return that vector. For example,</p>
<figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">std::vector&lt;std::string&gt; ans&#123;<span class="string">&quot;&quot;</span>, <span class="string">&quot;aaa&quot;</span>, <span class="string">&quot;&quot;</span>, <span class="string">&quot;bbb&quot;</span>, <span class="string">&quot;cdefg&quot;</span>&#125;;</span><br><span class="line"><span class="built_in">assert</span>(<span class="built_in">split</span>(<span class="string">&quot;xaaaxxbbbxcdefg&quot;</span>, <span class="string">&quot;x&quot;</span>) == ans);</span><br><span class="line">ans = &#123;<span class="string">&quot;&quot;</span>, <span class="string">&quot;x&quot;</span>&#125;;</span><br><span class="line"><span class="built_in">assert</span>(<span class="built_in">split</span>(<span class="string">&quot;xxx&quot;</span>, <span class="string">&quot;xx&quot;</span>) == ans);</span><br></pre></td></tr></table></figure>
<p>The assertions above should succeed. It is guaranteed that <code>sep</code> is not an empty string.</p>
</li>
<li>
<p><code>swapcase(str)</code></p>
<p>Returns the string obtained from <code>str</code> with cases swapped, i.e. lowercase letters are changed to their uppercase forms, and uppercase letters are changed to their lowercase forms. Other characters remain unchanged. For example, <code>swapcase(&quot;123..abcDEF&quot;)</code> is equal to <code>&quot;123..ABCdef&quot;</code>.</p>
</li>
</ul>
<h3 id="Submission">Submission</h3>
<p>Submit your code containing these four functions to OJ.</p>
<hr>
<h2 id="Dynamic-Array">Dynamic Array</h2>
<p>Implement your own version of the dynamic array <code>Dynarray</code> class. This is almost the same as the example in Lecture 17.</p>
<h3 id="Expected-Usage">Expected Usage</h3>
<p>A <code>Dynarray</code> represents an &quot;array&quot; of ints, the length of which is determined at run-time and the elements are stored in dynamically allocated memory. A <code>Dynarray</code> should manage the memory it uses correctly: It should allocate adequate memory when initialized, and deallocate the memory when it is destroyed to avoid memory leaks.</p>
<h4 id="Initialization">Initialization</h4>
<p>Let <code>n</code> be a non-negative integer and <code>x</code> be an integer. Let <code>begin</code> and <code>end</code> be of type <code>const int *</code> satisfying <code>begin &lt;= end</code>, with <code>begin</code> pointing at the first element of some array and <code>end</code> pointing at <strong>the element after</strong> the last element of that array. A <code>Dynarray</code> can be constructed in the following five possible ways:</p>
<ul>
<li>
<pre><code class="language-cpp">Dynarray a;
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">  Initializes the object `a` to be an empty &quot;array&quot; whose length is `0`. (Default-initialziation)</span><br><span class="line">- ```cpp</span><br><span class="line">  Dynarray a(n);</span><br></pre></td></tr></table></figure>
Initializes the object `a` to be an &quot;array&quot; of length `n`, all elements **value-initialized**.

**Note**: A constructor with one parameter also defines a **type conversion**. For example, the `std::string` class has a constructor that accepts one argument of type `const char *`, so the implicit conversion from C-style strings to C++ strings is supported. However, we definitely don't want to see the abuse of such constructors:
<figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">Dynarray a = <span class="number">42</span>;</span><br></pre></td></tr></table></figure>
or
<figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="type">void</span> <span class="title">fun</span><span class="params">(Dynarray a)</span></span>;</span><br><span class="line"><span class="built_in">fun</span>(<span class="number">42</span>); <span class="comment">// constructs Dynarray(42) and passes it to `a`</span></span><br></pre></td></tr></table></figure>
In order to forbid the use of this constructor as an implicit type conversion, you should add the `explicit` keyword:
<figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title class_">Dynarray</span> &#123;</span><br><span class="line">  <span class="comment">// ...</span></span><br><span class="line">  <span class="function"><span class="keyword">explicit</span> <span class="title">Dynarray</span><span class="params">(std::<span class="type">size_t</span>)</span> <span class="comment">/* ... */</span></span></span><br><span class="line"><span class="function">&#125;</span>;</span><br></pre></td></tr></table></figure>

</code></pre>
</li>
<li>
<pre><code class="language-cpp">Dynarray a(n, x);
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">  Initializes the object `a` to be an &quot;array&quot; of length `n`, all elements initialized to be `x`.</span><br><span class="line">- ```cpp</span><br><span class="line">  Dynarray a(begin, end);</span><br></pre></td></tr></table></figure>
Initializes the object `a` to be an &quot;array&quot; of length `end - begin`. The elements are obtained from the range `[begin, end)`. For example,
<figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="type">const</span> <span class="type">int</span> arr[<span class="number">10</span>] = &#123;<span class="number">19</span>, <span class="number">64</span>, <span class="number">10</span>, <span class="number">16</span>, <span class="number">67</span>, <span class="number">6</span>, <span class="number">17</span>, <span class="number">86</span>, <span class="number">7</span>, <span class="number">29</span>&#125;;</span><br><span class="line"><span class="function">Dynarray <span class="title">a</span><span class="params">(arr + <span class="number">3</span>, arr + <span class="number">7</span>)</span></span>; <span class="comment">// a contains the elements &#123;16, 67, 6, 17&#125;</span></span><br></pre></td></tr></table></figure>
</code></pre>
</li>
<li>
<pre><code class="language-cpp">Dynarray b = a;
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">  Copy-initialization. See below.</span><br><span class="line"></span><br><span class="line">#### Copy control</span><br><span class="line"></span><br><span class="line">Let `a` be some existing `Dynarray` object. The following are equivalent ways of initializing a new `Dynarray` object:</span><br><span class="line"></span><br><span class="line">```cpp</span><br><span class="line">Dynarray b = a;</span><br><span class="line">Dynarray b(a);</span><br><span class="line">Dynarray b&#123;a&#125;;</span><br></pre></td></tr></table></figure>

</code></pre>
</li>
</ul>
<p>This is the copy-initialization from <code>a</code>. Our <code>Dynarray</code> adopts the <strong>value semantics</strong>: Such copy-initialization should allocate another block of memory for <code>b</code> and copy the elements from <code>a</code>. After that, the data (elements) owned by <code>a</code> and <code>b</code> should be independent: Modification to some element in <code>a</code> should not influence the elements in <code>b</code>.</p>
<p>If <code>b</code> is also an existing <code>Dynarray</code> object, the following assignment can be performed:</p>
<figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">b = a;</span><br></pre></td></tr></table></figure>
<p>This is the copy-assignment from <code>a</code>. After that, <code>b</code> should be a copy of <code>a</code>. Any modification to an element of <code>a</code> should not influence the elements in <code>b</code>.</p>
<p>Your copy-assignment operator must be self-assignment safe.</p>
<h4 id="Basic-information">Basic information</h4>
<p>Let <code>a</code> be an object of type <code>const Dynarray</code>. The following operations should be supported:</p>
<ul>
<li>
<pre><code class="language-cpp">a.size()
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">  Returns the length of the &quot;array&quot;, that is, the number of elements in `a`. It should be of type `std::size_t`, which is defined in `&lt;cstddef&gt;`.</span><br><span class="line">- ```cpp</span><br><span class="line">  a.empty()</span><br></pre></td></tr></table></figure>
Returns a `bool` value indicating whether the `Dynarray` is empty or not. A `Dynarray` is said to be *empty* if its length is zero.

</code></pre>
</li>
</ul>
<h4 id="Element-access">Element access</h4>
<p>Let <code>a</code> be an object of type <code>Dynarray</code> and <code>ca</code> be an object of type <code>const Dynarray</code>. Let <code>n</code> be a non-negative integer. The following operations should be supported:</p>
<ul>
<li>
<pre><code class="language-cpp">a.at(n)
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">Returns a **reference** to the element indexed `n` in `a`. It is both readable and modifiable since `a` is not `const`. For example:</span><br><span class="line">```cpp</span><br><span class="line">a.at(n) = 42;</span><br><span class="line">std::cout &lt;&lt; a.at(n) &lt;&lt; std::endl;</span><br></pre></td></tr></table></figure>
</code></pre>
</li>
<li>
<pre><code class="language-cpp">ca.at(n)
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">Returns a **reference-to-`const`** to the element indexed `n` in `ca`. It should be read-only, since `ca` is `const`. For example:</span><br><span class="line">```cpp</span><br><span class="line">std::cout &lt;&lt; ca.at(n) &lt;&lt; std::endl; // OK</span><br><span class="line">ca.at(n) = 42; // This should lead to a compile-error.</span><br></pre></td></tr></table></figure>

</code></pre>
</li>
</ul>
<p>Moreover, to keep in consistent with the behaviors of the standard library containers, <code>Dynarray::at</code> should do bounds-checking. If <code>n</code> is not in the range <code>[0, a.size())</code>, you need to <strong>throw an exception <code>std::out_of_range</code></strong>. To throw this exception, write</p>
<figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">throw</span> std::out_of_range&#123;<span class="string">&quot;Dynarray index out of range!&quot;</span>&#125;;</span><br></pre></td></tr></table></figure>
<p>The exception class <code>std::out_of_range</code> is defined in the standard library file <code>&lt;stdexcept&gt;</code>.</p>
<h3 id="Examples">Examples</h3>
<p>Write your code in <code>dynarray.hpp</code>. We have provided a template for you to begin with, although it contains only some preprocessor directives.</p>
<p>We have also provided a <code>compile_test.cpp</code> for you which contains the compile-time checks of your implementation. Members missing, <code>const</code> qualifier missing, or incorrect return types will be detected. <strong>You can also try <code>concept_test.cpp</code>, which uses C++20 concepts and is more readable with less magic code.</strong></p>
<p>Here is a sample usage of the <code>Dynarray</code>:</p>
<figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&quot;dynarray.hpp&quot;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;algorithm&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;iostream&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">reverse</span><span class="params">(Dynarray &amp;a)</span> </span>&#123;</span><br><span class="line">  <span class="keyword">for</span> (<span class="type">int</span> i = <span class="number">0</span>, j = a.<span class="built_in">size</span>() - <span class="number">1</span>; i &lt; j; ++i, --j)</span><br><span class="line">    std::<span class="built_in">swap</span>(a.<span class="built_in">at</span>(i), a.<span class="built_in">at</span>(j));</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">print</span><span class="params">(<span class="type">const</span> Dynarray &amp;a)</span> </span>&#123;</span><br><span class="line">  std::cout &lt;&lt; <span class="string">&#x27;[&#x27;</span>;</span><br><span class="line">  <span class="keyword">if</span> (!a.<span class="built_in">empty</span>()) &#123;</span><br><span class="line">    <span class="keyword">for</span> (std::<span class="type">size_t</span> i = <span class="number">0</span>; i + <span class="number">1</span> &lt; a.<span class="built_in">size</span>(); ++i)</span><br><span class="line">      std::cout &lt;&lt; a.<span class="built_in">at</span>(i) &lt;&lt; <span class="string">&quot;, &quot;</span>;</span><br><span class="line">    std::cout &lt;&lt; a.<span class="built_in">at</span>(a.<span class="built_in">size</span>() - <span class="number">1</span>);</span><br><span class="line">  &#125;</span><br><span class="line">  std::cout &lt;&lt; <span class="string">&#x27;]&#x27;</span> &lt;&lt; std::endl;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">main</span><span class="params">()</span> </span>&#123;</span><br><span class="line">  <span class="type">int</span> n;</span><br><span class="line">  std::cin &gt;&gt; n;</span><br><span class="line">  <span class="function">Dynarray <span class="title">arr</span><span class="params">(n)</span></span>;</span><br><span class="line">  <span class="keyword">for</span> (<span class="type">int</span> i = <span class="number">0</span>; i != n; ++i)</span><br><span class="line">    std::cin &gt;&gt; arr.<span class="built_in">at</span>(i);</span><br><span class="line">  <span class="built_in">reverse</span>(arr);</span><br><span class="line">  <span class="built_in">print</span>(arr);</span><br><span class="line">  Dynarray copy = arr;</span><br><span class="line">  copy.<span class="built_in">at</span>(<span class="number">0</span>) = <span class="number">42</span>;</span><br><span class="line">  std::cout &lt;&lt; arr.<span class="built_in">at</span>(<span class="number">0</span>) &lt;&lt; <span class="string">&#x27;\n&#x27;</span></span><br><span class="line">            &lt;&lt; copy.<span class="built_in">at</span>(<span class="number">0</span>) &lt;&lt; std::endl;</span><br><span class="line">  <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>Input:</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">5</span><br><span class="line">1 2 3 4 5</span><br></pre></td></tr></table></figure>
<p>Output:</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">[5, 4, 3, 2, 1]</span><br><span class="line">5</span><br><span class="line">42</span><br></pre></td></tr></table></figure>
<h3 id="Submission-2">Submission</h3>
<p>Submit the contents of your <code>dynarray.hpp</code> to the OJ.</p>
<h3 id="Self-test-on-OJ">Self-test on OJ</h3>
<p>Input an integer <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>i</mi><mo>∈</mo><mo stretchy="false">{</mo><mn>0</mn><mo separator="true">,</mo><mn>1</mn><mo separator="true">,</mo><mn>2</mn><mo separator="true">,</mo><mn>3</mn><mo separator="true">,</mo><mn>4</mn><mo separator="true">,</mo><mn>5</mn><mo stretchy="false">}</mo></mrow><annotation encoding="application/x-tex">i\in\{0,1,2,3,4,5\}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.6986em;vertical-align:-0.0391em;"></span><span class="mord mathnormal">i</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">∈</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mopen">{</span><span class="mord">0</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord">1</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord">2</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord">3</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord">4</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord">5</span><span class="mclose">}</span></span></span></span> to run the <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>i</mi></mrow><annotation encoding="application/x-tex">i</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.6595em;"></span><span class="mord mathnormal">i</span></span></span></span>-th testcase.</p>
<h3 id="Bonus">Bonus</h3>
<p>If your copy-assignment operator is <strong>exception-safe</strong>, or more specifically, offers <a target="_blank" rel="noopener" href="https://en.cppreference.com/w/cpp/language/exceptions#Exception_safety"><strong>strong exception safety guarantee</strong></a>, you can get the extra 10 points. Submit it to Problem 504 on OJ.</p>
<p>Related materials: <em>C++ Primer</em> (5th edition) section 13.2.1, section 13.3; <em>Effective C++</em> (3rd edition) Item 29.</p>

    </div>

    
    
    

      <footer class="post-footer">
          <div class="post-tags">
              <a href="/tags/%E4%BD%9C%E4%B8%9A/" rel="tag"># 作业</a>
              <a href="/tags/%E4%B8%8A%E7%A7%91%E5%A4%A7/" rel="tag"># 上科大</a>
              <a href="/tags/C-%E8%AF%AD%E8%A8%80/" rel="tag"># C 语言</a>
              <a href="/tags/CS100/" rel="tag"># CS100</a>
          </div>

        


        
    <div class="post-nav">
      <div class="post-nav-item">
    <a href="/%E5%AD%A6%E4%B9%A0/%E6%95%B0%E5%AD%A6/2023/04/16/Calculas/%E5%A4%9A%E5%85%83%E7%A7%AF%E5%88%86%E5%AD%A6-2/" rel="prev" title="多元积分学 [2]">
      <i class="fa fa-chevron-left"></i> 多元积分学 [2]
    </a></div>
      <div class="post-nav-item">
    <a href="/%E5%AD%A6%E4%B9%A0/%E6%95%B0%E5%AD%A6/2023/04/17/Calculas/%E5%A4%9A%E5%85%83%E7%A7%AF%E5%88%86%E5%AD%A6-3/" rel="next" title="多元积分学 [3]">
      多元积分学 [3] <i class="fa fa-chevron-right"></i>
    </a></div>
    </div>
      </footer>
    
  </article>
  
  
  



          </div>
          

<script>
  window.addEventListener('tabs:register', () => {
    let { activeClass } = CONFIG.comments;
    if (CONFIG.comments.storage) {
      activeClass = localStorage.getItem('comments_active') || activeClass;
    }
    if (activeClass) {
      let activeTab = document.querySelector(`a[href="#comment-${activeClass}"]`);
      if (activeTab) {
        activeTab.click();
      }
    }
  });
  if (CONFIG.comments.storage) {
    window.addEventListener('tabs:click', event => {
      if (!event.target.matches('.tabs-comment .tab-content .tab-pane')) return;
      let commentClass = event.target.classList[1];
      localStorage.setItem('comments_active', commentClass);
    });
  }
</script>

        </div>
          
  
  <div class="toggle sidebar-toggle">
    <span class="toggle-line toggle-line-first"></span>
    <span class="toggle-line toggle-line-middle"></span>
    <span class="toggle-line toggle-line-last"></span>
  </div>

  <aside class="sidebar">
    <div class="sidebar-inner">

      <ul class="sidebar-nav motion-element">
        <li class="sidebar-nav-toc">
          文章目录
        </li>
        <li class="sidebar-nav-overview">
          站点概览
        </li>
      </ul>

      <!--noindex-->
      <div class="post-toc-wrap sidebar-panel">
          <div class="post-toc motion-element"><ol class="nav"><li class="nav-item nav-level-1"><a class="nav-link" href="#CS100-Homework-5-Spring-2023"><span class="nav-text">CS100 Homework 5 (Spring 2023)</span></a><ol class="nav-child"><li class="nav-item nav-level-2"><a class="nav-link" href="#Checklist-for-C-Beginners"><span class="nav-text">Checklist for C++ Beginners</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#Playing-with-Strings-and-Vectors"><span class="nav-text">Playing with Strings and Vectors</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#Implement-the-following-four-functions"><span class="nav-text">Implement the following four functions.</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#Submission"><span class="nav-text">Submission</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#Dynamic-Array"><span class="nav-text">Dynamic Array</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#Expected-Usage"><span class="nav-text">Expected Usage</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#Initialization"><span class="nav-text">Initialization</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#Basic-information"><span class="nav-text">Basic information</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#Element-access"><span class="nav-text">Element access</span></a></li></ol></li><li class="nav-item nav-level-3"><a class="nav-link" href="#Examples"><span class="nav-text">Examples</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#Submission-2"><span class="nav-text">Submission</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#Self-test-on-OJ"><span class="nav-text">Self-test on OJ</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#Bonus"><span class="nav-text">Bonus</span></a></li></ol></li></ol></li></ol></div>
      </div>
      <!--/noindex-->

      <div class="site-overview-wrap sidebar-panel">
        <div class="site-author motion-element" itemprop="author" itemscope itemtype="http://schema.org/Person">
    <img class="site-author-image" itemprop="image" alt="Zivmax"
      src="/images/avatar.png">
  <p class="site-author-name" itemprop="name">Zivmax</p>
  <div class="site-description" itemprop="description">记录我在 STU 的所见所闻,以及成长</div>
</div>
<div class="site-state-wrap motion-element">
  <nav class="site-state">
      <div class="site-state-item site-state-posts">
          <a href="/archives/">
        
          <span class="site-state-item-count">83</span>
          <span class="site-state-item-name">日志</span>
          
        </a>
      </div>
      <div class="site-state-item site-state-categories">
            <a href="/categories/">
          
        <span class="site-state-item-count">11</span>
        <span class="site-state-item-name">分类</span></a>
      </div>
      <div class="site-state-item site-state-tags">
            <a href="/tags/">
          
        <span class="site-state-item-count">43</span>
        <span class="site-state-item-name">标签</span></a>
      </div>
  </nav>
</div>
  <div class="links-of-author motion-element">
      <span class="links-of-author-item">
        <a href="https://github.com/zivmax" title="GitHub → https:&#x2F;&#x2F;github.com&#x2F;zivmax" rel="noopener" target="_blank"><i class="fab fa-github fa-fw"></i>GitHub</a>
      </span>
      <span class="links-of-author-item">
        <a href="mailto:marsh.mallow@foxmail.com" title="E-Mail → mailto:marsh.mallow@foxmail.com" rel="noopener" target="_blank"><i class="fa fa-envelope fa-fw"></i>E-Mail</a>
      </span>
      <span class="links-of-author-item">
        <a href="/wechat/" title="Wechat → &#x2F;wechat&#x2F;"><i class="fab fa-weixin fa-fw"></i>Wechat</a>
      </span>
      <span class="links-of-author-item">
        <a href="/QQ/" title="QQ → &#x2F;QQ&#x2F;"><i class="fab fa-qq fa-fw"></i>QQ</a>
      </span>
  </div>



      </div>
        <div class="back-to-top motion-element">
          <i class="fa fa-arrow-up"></i>
          <span>0%</span>
          
        </div>
  
    </div>
  </aside>
  <div id="sidebar-dimmer"></div>


      </div>
    </main>

    <footer class="footer">
      <div class="footer-inner">
        

        

<div class="copyright">
  
  &copy; 2022-8-11 – 
  <span itemprop="copyrightYear">2024</span>
  <span class="with-love">
    <i class="fa fa-flag"></i>
  </span>
  <span class="author" itemprop="copyrightHolder">Zivmax</span>
</div>
  <div class="powered-by">由 <a href="https://hexo.io/" class="theme-link" rel="noopener" target="_blank">Hexo</a> & <a href="https://theme-next.org/" class="theme-link" rel="noopener" target="_blank">NexT.Gemini</a> 强力驱动
  </div>




        








      </div>
    </footer>
  </div>

  
  <script color='255,255,255' opacity='0.8' zIndex='-1' count='120' src="/lib/canvas-nest/canvas-nest-nomobile.min.js"></script>
  <script src="/lib/anime.min.js"></script>
  <script src="//cdn.jsdelivr.net/npm/jquery@3/dist/jquery.min.js"></script>
  <script src="//cdn.jsdelivr.net/gh/fancyapps/fancybox@3/dist/jquery.fancybox.min.js"></script>
  <script src="/lib/velocity/velocity.min.js"></script>
  <script src="/lib/velocity/velocity.ui.min.js"></script>

<script src="/js/utils.js"></script>

<script src="/js/motion.js"></script>


<script src="/js/schemes/pisces.js"></script>


<script src="/js/next-boot.js"></script>




  




  
<script src="/js/local-search.js"></script>











<script>
if (document.querySelectorAll('pre.mermaid').length) {
  NexT.utils.getScript('//cdn.jsdelivr.net/npm/mermaid@8/dist/mermaid.min.js', () => {
    mermaid.initialize({
      theme    : 'default',
      logLevel : 3,
      flowchart: { curve     : 'linear' },
      gantt    : { axisFormat: '%m/%d/%Y' },
      sequence : { actorMargin: 50 }
    });
  }, window.mermaid);
}
</script>


  

  
      
<link rel="stylesheet" href="//cdn.jsdelivr.net/npm/katex@0/dist/katex.min.css">
  <script src="//cdn.jsdelivr.net/npm/katex@0/dist/contrib/copy-tex.min.js"></script>
  <link rel="stylesheet" href="//cdn.jsdelivr.net/npm/katex@0/dist/contrib/copy-tex.min.css">


  
  <script src="//cdn.jsdelivr.net/npm/quicklink@1/dist/quicklink.umd.js"></script>
  <script>
      window.addEventListener('load', () => {
      quicklink({
        timeout : 3000,
        priority: true,
        ignores : [uri => uri.includes('#'),uri => uri === 'https://zivmax.top/%E5%AD%A6%E4%B9%A0/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%A7%91%E5%AD%A6/2023/04/16/CS100/CS100-Homework-5/',]
      });
      });
  </script>



</body>
</html>

